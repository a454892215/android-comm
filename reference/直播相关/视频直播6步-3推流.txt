android直播客户端主要分为：采集、编码、推流、拉流、解码、渲染六个阶段。推流阶段，主要面对的问题是什么，有什么坑？

## **二、常见视频传输协议有哪些（直播必会）**
### **1. RTMP（最经典的直播协议）**
* 特点：
  * 基于 TCP
  * 稳定
  * 延迟中等（1~3 秒）
* 使用场景：
  * 传统直播平台
  * 推流最常用
* 架构：
  MediaCodec → H.264 → RTMP → 服务器 → 播放端
  ```
### **2. WebRTC（低延迟实时通信）**
* 特点：
  * 基于 UDP
  * 超低延迟（< 500ms）
  * 支持音视频双向通信
* 使用场景：
  * 连麦
  * 视频会议
  * 实时互动直播
* 包含完整体系：
  * 采集
  * 编码
  * 传输
  * 抗丢包、重传、拥塞控制
---

### **3. SRT（新一代低延迟协议）**
* 特点：
  * 基于 UDP
  * 强抗丢包
  * 延迟低于 RTMP
* 使用场景：
  * 专业直播
  * 跨国传输
---

### **4. HLS / DASH（点播/高延迟直播）**
* 特点：
  * 基于 HTTP
  * 延迟高（5~30 秒）
  * 兼容性最好
* 使用场景：
  * 回放
  * 大规模分发
  * 低实时性直播
---

## **三、完整链路中各模块分工**
这是面试**必会架构图**（你可以直接说出来）：
```
Camera
  ↓
采集模块（CameraX）
  ↓
编码模块（MediaCodec：H.264 / H.265）
  ↓
封装模块（FLV / RTP / WebRTC Packet）
  ↓
传输协议（RTMP / WebRTC / SRT）
  ↓
网络发送
```

| 模块         | 负责什么         |
| ---------- | ------------ |
| Camera     | 采集原始帧        |
| MediaCodec | 编码 / 解码      |
| 封装层        | 把码流打包成协议格式   |
| 传输协议       | 网络发送、重传、拥塞控制 |

---
RootEncoder：
✅ RootEncoder 可以直接用于生产级推流。
它内部实现了：MediaCodec 编码。FLV / RTP 等封装，完整的 RTMP / RTSP / SRT 推流协议栈
RootEncoder 的真实“历史地位”是什么？
非常准确地说，它是：
Android 开源推流领域的“参考实现级项目”。
它的地位类似于：
OkHttp 在网络库里的地位
ExoPlayer 在播放器里的地位
不是因为：用的人最多
而是因为：实现完整 架构清晰 协议可读 工程质量高 适合学习和二次开发

国内普通的直播app 基本上都是使云厂商提供的“直播 SDK 全家桶”（腾讯，阿里等），成熟，稳定，成本小